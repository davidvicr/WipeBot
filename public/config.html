<!-- Header mit Roboter-Logo -->
<div class="plugin-header">
  <div class="plugin-logo">
    <span>WIPE</span>
    <span class="icon">
      <svg xmlns="http://www.w3.org/2000/svg" width="42" height="42" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
        <path d="M12 2a9 9 0 0 1 9 9v1.59a1 1 0 0 1-.3.71L17 17h-4v4a1 1 0 0 1-1.7.7l-4-4A9 9 0 0 1 12 2"/>
        <circle cx="9" cy="9" r="1"/>
        <circle cx="15" cy="9" r="1"/>
        <path d="M8 14h.01"/>
        <path d="M12 14h.01"/>
        <path d="M16 14h.01"/>
      </svg>
    </span>
    <span>BOT</span>
  </div>
</div>

<!-- Tab-Navigation -->
<div class="tab-navigation">
  <button class="tab-button active" data-tab="gruppen">GRUPPEN</button>
  <button class="tab-button" data-tab="filter">FILTER</button>
  <button class="tab-button" data-tab="statistik">STATISTIK</button>
  <button class="tab-button" data-tab="einstell">EINSTELL.</button>
</div>

<!-- GRUPPEN Tab -->
<div id="gruppenTab" class="tab-content active">
  <div class="info-bar">
    <div class="count-info">Aktive Gruppen: <span id="groupCount">10</span>/30</div>
    <button class="create-button" id="createGroupBtn">
      NEUE GRUPPE ERSTELLEN
      <span class="icon">‚Ä∫</span>
    </button>
  </div>

  <!-- Gruppenformular -->
  <div class="filter-form">
    <label for="newGroupName">Gruppenname</label>
    <input type="text" id="newGroupName" placeholder="Neue Gruppe benennen...">
    <button class="btn-primary" id="saveGroupBtn">Gruppe erstellen</button>
  </div>

  <!-- Gruppenliste -->
  <div class="panel group-panel expanded">
    <div class="panel-header">
      <div class="title-area">
        <div class="title">GRUPPE 1</div>
      </div>
      <div class="controls">
        <label class="toggle-switch">
          <input type="checkbox" checked>
          <span class="toggle-slider"></span>
        </label>
        <button class="collapse-btn">
          <span class="icon">‚ñ≤</span>
        </button>
      </div>
    </div>
    <div class="panel-body" style="height: auto; opacity: 1;">
      <h4>Zugeh√∂rige Filter:</h4>
      <ul class="filter-list">
        <li>Filter 1</li>
        <li>Filter 2</li>
        <li>Filter 3</li>
      </ul>
      <div class="next-deletion">
        <div class="date-time">
          <div>N√§chste L√∂schung:</div>
          <div>Montag, 03.04.25</div>
          <div>um 10:30 Uhr</div>
        </div>
        <div class="actions">
          <button class="action-btn duplicate" title="Duplizieren">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect x="8" y="8" width="12" height="12" rx="2" ry="2"/>
              <path d="M16 8V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h2"/>
            </svg>
          </button>
          <button class="action-btn delete" title="L√∂schen">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M3 6h18"/>
              <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"/>
              <path d="M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
              <line x1="10" y1="11" x2="10" y2="17"/>
              <line x1="14" y1="11" x2="14" y2="17"/>
            </svg>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- FILTER Tab -->
<div id="filterTab" class="tab-content">
  <div class="info-bar">
    <div class="count-info">Filter: <span id="filterCount">3</span>/30</div>
    <button class="create-button" id="createFilterBtn">
      NEUEN FILTER ERSTELLEN
      <span class="icon">‚Ä∫</span>
    </button>
  </div>

  <!-- Filterformular -->
  <div class="filter-form">
    <label for="filterName">Filtername</label>
    <input type="text" id="filterName" placeholder="Filtername">

    <label for="filterGroup">Filtergruppe</label>
    <select id="filterGroup">
      <option value="">(Keine Gruppe)</option>
      <option value="gruppe1">Gruppe 1</option>
    </select>

    <label for="maxDays">Maximales Alter der Chats (Tage)</label>
    <input type="number" id="maxDays" min="1" value="30">

    <label for="closedOnly">Nur geschlossene Chats l√∂schen?</label>
    <select id="closedOnly">
      <option value="true">Ja</option>
      <option value="false">Nein</option>
    </select>

    <label>Plattformen</label>
    <div class="platform-container">
      <label><input type="checkbox" class="platform" value="alle"> Alle Plattformen</label>
      <label><input type="checkbox" class="platform" value="whatsapp"> WhatsApp</label>
      <label><input type="checkbox" class="platform" value="webchat"> Webchat</label>
      <label><input type="checkbox" class="platform" value="email"> E-Mail</label>
      <label><input type="checkbox" class="platform" value="messenger"> Facebook Messenger</label>
      <label><input type="checkbox" class="platform" value="telegram"> Telegram</label>
      <label><input type="checkbox" class="platform" value="instagram"> Instagram</label>
    </div>

    <label>Zu l√∂schende Segmente</label>
    <div class="tag-input" id="includeTagContainer">
      <input type="text" id="includeInput" placeholder="Enter dr√ºcken zum Hinzuf√ºgen">
    </div>

    <label>Zu sch√ºtzende Segmente</label>
    <div class="tag-input" id="excludeTagContainer">
      <input type="text" id="excludeInput" placeholder="Enter dr√ºcken zum Hinzuf√ºgen">
    </div>

    <label class="toggle-label">
      <input type="checkbox" id="deleteSegmentsOnly">
      <span class="toggle-switch-label">Nur ausgew√§hlte Segmente l√∂schen</span>
    </label>

    <label class="toggle-label">
      <input type="checkbox" id="autoEnabled">
      <span class="toggle-switch-label">Automatische L√∂schung aktivieren</span>
    </label>

    <label for="autoTime">Uhrzeit f√ºr automatische L√∂schung (MEZ)</label>
    <input type="time" id="autoTime" value="03:00">

    <div class="preview-box" id="filterPreview">
      <strong>üß™ Vorschau:</strong>
      <pre id="previewText">F√ºlle Felder aus, um Vorschau zu sehen...</pre>
    </div>

    <button id="addFilterBtn" class="btn-primary">Filter speichern</button>
    <button id="resetBtn" style="display: none;">Eingabe zur√ºcksetzen</button>
  </div>

  <!-- Filterliste Beispiel -->
  <div class="panel filter-panel expanded">
    <div class="panel-header">
      <div class="title-area">
        <div class="title" style="color: #F0883E; text-shadow: 0 0 8px rgba(240, 136, 62, 0.4);">FILTER 1</div>
      </div>
      <div class="controls">
        <label class="toggle-switch">
          <input type="checkbox" checked>
          <span class="toggle-slider"></span>
        </label>
        <button class="collapse-btn">
          <span class="icon">‚ñ≤</span>
        </button>
      </div>
    </div>
    <div class="panel-body" style="height: auto; opacity: 1;">
      <h4>Filter-Details:</h4>
      <ul class="filter-details">
        <li>Inaktive seit 14 Tagen</li>
        <li>enth√§lt Segment <span class="segment-highlight">Abc</span></li>
        <li>offenen Chats</li>
      </ul>
      <div class="next-deletion">
        <div class="date-time">
          <div>N√§chste L√∂schung:</div>
          <div>Montag, 03.04.25</div>
          <div>um 10:30 Uhr</div>
        </div>
        <div class="actions">
          <button class="action-btn duplicate" title="Duplizieren">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect x="8" y="8" width="12" height="12" rx="2" ry="2"/>
              <path d="M16 8V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h2"/>
            </svg>
          </button>
          <button class="action-btn delete" title="L√∂schen">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M3 6h18"/>
              <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"/>
              <path d="M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
              <line x1="10" y1="11" x2="10" y2="17"/>
              <line x1="14" y1="11" x2="14" y2="17"/>
            </svg>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- STATISTIK Tab -->
<div id="statistikTab" class="tab-content">
  <div class="stats-grid">
    <div class="stat-card">
      <div class="icon">üìä</div>
      <div class="value" id="totalDeleted">120</div>
      <div class="label">Gel√∂schte Konversationen</div>
    </div>

    <div class="stat-card">
      <div class="icon">üîÑ</div>
      <div class="value" id="activeFilters">3</div>
      <div class="label">Aktive Filter</div>
    </div>

    <div class="stat-card">
      <div class="icon">‚è∞</div>
      <div class="value" id="nextCleanup">03:00</div>
      <div class="label">N√§chste Ausf√ºhrung</div>
    </div>

    <div class="stat-card">
      <div class="icon">üìÖ</div>
      <div class="value" id="lastRun">21.04</div>
      <div class="label">Letzte Ausf√ºhrung</div>
    </div>
  </div>

  <button id="exportBtn" class="btn-primary">Filter exportieren</button>
  <input type="file" id="importFile" style="display: none;" accept=".json">
  <button id="importBtn" class="btn-primary">Filter importieren</button>
</div>

<!-- EINSTELLUNGEN Tab -->
<div id="einstellTab" class="tab-content">
  <div class="filter-form">
    <h2>Plugin-Einstellungen</h2>
    <button id="cleanupBtn" class="btn-primary">Cleanup jetzt f√ºr alle aktiven Filter starten</button>
    <button id="disconnectBtn" class="btn-danger">Plugin von Website trennen</button>
  </div>

  <div class="filter-form">
    <h2>√úber WipeBot</h2>
    <p style="color: var(--text-secondary); margin-bottom: 15px;">
      WipeBot ist ein Plugin f√ºr Crisp, das automatisch oder manuell Konversationen im Crisp-Postfach 
      l√∂schen kann ‚Äì entweder vollst√§ndig oder nur bestimmte Segmente.
    </p>
    <p style="color: var(--text-secondary);">
      Erstellt von <a href="https://liquidrom-berlin.de" style="color: var(--accent-primary); text-decoration: none;">LIQUIDROM Berlin</a>
    </p>
  </div>
</div>

<div class="version-info" id="versionInfo">v1.0.0</div>